@page
@using BibliotekaOnline.Areas.Identity.Pages.Account.Manage
@model PersonalDataModel
@{
    ViewData["Title"] = "Dane osobowe";
    ViewData["ActivePage"] = "PersonalData";
    Layout = "_ManageLayout";
}


        
        <div class="modern-card">
            <div class="info-box">
                <h5 class="section-title">
                    â„¹ï¸ Informacje o danych
                </h5>
                <p class="mb-3">Twoje konto zawiera dane osobowe, ktÃ³re nam przekazaÅ‚eÅ›. Ta strona pozwala Ci pobraÄ‡ lub usunÄ…Ä‡ te dane zgodnie z przepisami RODO.</p>
                
                <div class="d-flex flex-wrap gap-2">
                    <form id="download-data" asp-page-handler="DownloadPersonalData" method="post" class="d-inline">
                        <button class="modern-btn" type="submit">
                            ğŸ“¥ Pobierz dane
                        </button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="modern-card">
            <div class="warning-box">
                <h5 class="mb-3">âš ï¸ Strefa niebezpieczna</h5>
                <p class="mb-3">
                    <strong>UsuniÄ™cie tych danych spowoduje trwaÅ‚e usuniÄ™cie Twojego konta i nie bÄ™dzie moÅ¼na go odzyskaÄ‡.</strong>
                </p>
                <p class="mb-0">Ta operacja jest nieodwracalna i spowoduje:</p>
                <ul class="mt-2 mb-3">
                    <li>UsuniÄ™cie wszystkich Twoich danych</li>
                    <li>UtratÄ™ historii wypoÅ¼yczeÅ„</li>
                    <li>NiemoÅ¼noÅ›Ä‡ ponownego logowania</li>
                </ul>
                
                <form id="delete-user" asp-page-handler="DeletePersonalData" method="post">
                    <input asp-for="RequirePassword" type="hidden" value="@Model.RequirePassword" />
                    @if (Model.RequirePassword)
                    {
                        <div class="modern-form-group">
                            <label asp-for="Input.Password" class="modern-label">
                                ğŸ”’ PotwierdÅº hasÅ‚em
                            </label>
                            <input asp-for="Input.Password" class="modern-input" autocomplete="current-password" aria-required="true" placeholder="WprowadÅº swoje hasÅ‚o" type="password" />
                            <span asp-validation-for="Input.Password" class="text-danger"></span>
                            <small class="text-muted">WprowadÅº hasÅ‚o aby potwierdziÄ‡ usuniÄ™cie konta</small>
                        </div>
                    }
                    <div class="mt-3">
                        <button class="modern-btn modern-btn-danger" type="submit" onclick="return confirm('Czy na pewno chcesz usunÄ…Ä‡ swoje konto? Ta operacja jest nieodwracalna!');">
                            ğŸ’€ UsuÅ„ dane i zamknij konto
                        </button>
                    </div>
                </form>
            </div>
        </div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
} 